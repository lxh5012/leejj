(function($){var _PORTALROOT_GLOBAL=window.localStorage.getItem("H3.PortalRoot")||"",getCurrentLanguage=function(){return window.localStorage.NG_TRANSLATE_LANG_KEY||"zh_CN"},loadJSON=function(t,n){return window.sessionStorage.getItem(t)?JSON.parse(window.sessionStorage.getItem(t)):($.ajax({url:n,dataType:"JSON",type:"GET",async:!1,success:function(n){window.sessionStorage.setItem(t,JSON.stringify(n))}}),JSON.parse(window.sessionStorage.getItem(t)))};"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(t){return-1!==this.indexOf(t,this.length-t.length)}),null!=_PORTALROOT_GLOBAL&&_PORTALROOT_GLOBAL.length>1&&!_PORTALROOT_GLOBAL.endsWith("/")&&(_PORTALROOT_GLOBAL+="/"),$.Languages=loadJSON("LanguageData_"+getCurrentLanguage(),_PORTALROOT_GLOBAL+"lang/"+getCurrentLanguage()+".json"),$.Controller=loadJSON("ControllerData",_PORTALROOT_GLOBAL+"lang/ControllerData.json"),$.PublicAddress=loadJSON("PublicAddressData",_PORTALROOT_GLOBAL+"lang/PublicAddressData.json"),$.initLanguage=function(){$("*[data-lang]").each(function(t,n){var a=$.Lang($(this).attr("data-lang"));$(this).html(a)}),$("*[data-title]").each(function(t,n){var a=$.Lang($(this).attr("data-title"));$(this).attr("title",a)}),$("*[data-desc]").each(function(t,n){var a=$.Lang($(this).attr("data-desc"));$(this).attr("desc",a)})},$.Lang=function(name){if(!name)return"";if(0==name.indexOf("_"))return name.substring(1);if(!$.Languages)return"当前语言包未定义";if(!name)throw new Error("获取语言的关键词不能为空!");try{return eval("$.Languages."+name)||name}catch(t){return null}},$.LangArray=function(t,n){if(!$.Languages)return"当前语言包未定义";if(!t)throw new Error("获取语言的关键词不能为空!");try{var a=[];return n instanceof Array?$.each(n,function(t,n){a.push(n)}):a.push(n),$.each(t,function(t,e){if(e)if(e instanceof Array)$.LangArray(e,n);else if("object"==typeof e)for(var r=0;r<a.length;r++)e[a[r]]&&(e[a[r]]=null==$.Lang(e[a[r]])?e[a[r]]:$.Lang(e[a[r]]))}),t}catch(t){throw new Error(t+"<--"+name)}},$.format=function(t,n){return 1==arguments.length?function(){var n=$.makeArray(arguments);return n.unshift(t),$.format.apply(this,n)}:(arguments.length>2&&n.constructor!=Array&&(n=$.makeArray(arguments).slice(1)),n.constructor!=Array&&(n=[n]),$.each(n,function(n,a){t=t.replace(new RegExp("\\{"+n+"\\}","g"),a)}),t)}})($);