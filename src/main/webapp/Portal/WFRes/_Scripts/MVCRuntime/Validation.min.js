function validation(e){var t=!0;if(void 0===e&&(e="2"),"2"!=e)return!0;this.elements=validator.getElements();var a=!0;t=!0;return validator.validateArrary.length=0,$.each(this.elements,function(n,r){validator.validateElement(r,"1"==e,!1)||(t=!1),!t&&a&&(a=!1,r.focus(),$(r).trigger("ValidateFalse"))}),t||("undefined"==typeof language||"zh"==language?alert(validator.validErrorZH):alert(validator.validErrorEN)),t&&"undefined"!=typeof pageValidate&&(t=pageValidate(e)),t}var validObject=[{name:"requiredfield",func:function(e){return""!=$.trim(e)},save:!1,init:!0,allowNull:!1,zh:"*",en:"*"},{name:"integer",func:function(e){return/^(-|\+)?(\d)*$/.test(e)},save:!0,init:!1,allowNull:!1,zh:"请输入一个整数.",en:"Please enter a valid digits."},{name:"number",func:function(e){return/^[\+\-]?\d*?\.?\d*?$/.test(e)},save:!0,init:!1,allowNull:!1,zh:"请输入一个数字.",en:"Please enter a valid number."},{name:"email",func:function(e){return/^\w+([-+.]\w+)*@\w+([-.]\\w+)*\.\w+([-.]\w+)*$/.test(e)},save:!1,init:!1,allowNull:!0,zh:"请输入一个有效的邮箱地址.",en:"Please enter a valid email address."},{name:"card",func:function(e){return/^\d{15}(\d{2}[A-Za-z0-9])?$/.test(e)},save:!1,init:!1,allowNull:!0,zh:"请输入一个有效的身份证.",en:"Please enter a valid email credit card number."},{name:"mobile",func:function(e){return/^((\(\d{3}\))|(\d{3}\-))?13\d{9}$/.test(e)},save:!1,init:!1,allowNull:!0,zh:"请输入一个有效的手机号码.",en:"Please enter a valid mobile."},{name:"timespan",func:function(e){if(-1==e.indexOf("."))return/^((20|21|22|23|[0-1]\d)\:[0-5][0-9])(\:[0-5][0-9])?$/.test(e);var t=e.split(".");return/^(\d)*$/.test(t[0])&&/^((20|21|22|23|[0-1]\d)\:[0-5][0-9])(\:[0-5][0-9])?$/.test(t[1])},save:!1,init:!1,allowNull:!1,zh:"请输入一个有效的时间段.",en:"Please enter a valid timespan."},{name:"phone",func:function(e){return/^0\d{2,3}-?\d{7,8}$/.test(e)},save:!1,init:!1,allowNull:!0,zh:"请输入一个有效的电话号码.",en:"Please enter a valid phone."}];null==typeof pageInfo&&(pageInfo={});var validator={paretntClass:"divContent",errorMessageClass:"error",inputMouseEnter:"inputMouseEnter",inputMouseMove:"inputMouseMove",inputMouseOut:"inputMouseOut",inputError:"inputError",validErrorZH:"请将表单输入完整.",validErrorEN:"Please complete the form input.",requiredArrary:[],validateArrary:[],isMobile:void 0,arrayIndexOf:function(e,t){for(var a=e.length-1;a>-1;a--)if(e[a]==t)return!0;return!1},getElementValue:function(e){if("radio"==e.type)return 0==$("input:checked[name='"+e.name+"']").length?"":"1";if("select-one"==e.type)return-1==e.selectedIndex?"":e.options[e.selectedIndex].value;if("checkbox"==e.type){var t=e.name.substring(0,e.name.lastIndexOf("$"));return 0==$("input:checked[name^='"+t+"']").length?"":"1"}return"textarea"==e.type&&"none"==e.style.display&&null!=CKEDITOR&&null!=CKEDITOR.instances[e.id]?CKEDITOR.instances[e.id].getData().replace("<br>",""):$.trim(e.value)},getElementId:function(e){return"radio"==e.type?e.name:"select-one"==e.type?e.id:"checkbox"==e.type?e.name.substring(0,e.name.lastIndexOf("$")):e.id},valideRegularExpression:function(element,val){var regularexpression=$(element).attr("regularexpression");return!regularexpression||!!eval(regularexpression).test(val)},validateElement:function(e,t,a,n){var r="";if("hidden"==e.type)return!0;val=validator.getElementValue(e),$(e).attr("formatrule")&&(val=val.replace(/,/g,"").replace(/$/g,"").replace(/¥/g,""));var l=e;null!=$(e).attr("lang")&&(r=$(e).attr("lang"),l=e),$(e).parent().attr("lang")&&(r+=","+$(e).parent().attr("lang"),l=$(e).parent()[0]);var i="",o=!0,s=this.getElementId(e);if($.trim(r).replace(/,/g,"")&&(!n&&this.arrayIndexOf(this.validateArrary,s)||$.each(validObject,function(e,n){if((!t||n.save)&&(!a||n.init)&&r.indexOf(n.name)>-1){if(!val&&n.allowNull)return;n.func.call(this,val)||(o=!1,i+="undefined"==typeof language||"zh"==language?n.zh:n.en)}})),!a&&val&&!this.valideRegularExpression(e,val)){o=!1;var u=$(e).attr("regularexpressiontext");u&&(i+=u)}if(validator.isMobile){if($(e).is("[type=checkbox]"))return;return $(e).next(".error").remove(),void(o?($(e).removeClass("error"),$(e).trigger("MobileValidateSuccess")):($(e).addClass("error"),$(e).after('<label for="'+s+'" class="error">'+i+"</label>"),$(e).trigger("MobileValidateFaild")))}return(o||a)&&(a||$(e).attr("class",validator.inputMouseOut)),$("label[for='"+s+"']").length>0?o?$("label[for='"+s+"']").html(""):$("label[for='"+s+"']").html(i):o||this.insertMessage(l,'<label for="'+s+'" class="error">'+i+"</label>",s),a||(o?$(e).attr("class",validator.inputMouseOut):$(e).attr("class",validator.inputError)),this.validateArrary.push(s),o},insertMessage:function(e,t,a){"radio"==e.type?$(t).appendTo($("input:last[name='"+a+"']").parent()):"select-one"==e.type?$(t).insertAfter($(e)):"checkbox"==e.type?$(t).appendTo($("input:last[name^='"+a+"']").parent()):$(t).insertAfter($(e))},validatorContainer:function(){return $("."+validator.paretntClass).length>0?$("."+validator.paretntClass):$(".MobileStyle")},getElements:function(){var e=$("."+validator.paretntClass);return 0==e.length&&(e=$("#content-wrapper")),validator.isMobile?$("input[type=text][lang], select[lang], textarea[lang]"):$(e).find("input[type=text], select, textarea").not(":submit, :reset, :image, [disabled], :hidden")},initValiate:function(){this.isMobile="undefined"!=typeof IsMobile&&IsMobile;var e=this.getElements();validator.validateArrary.length=0,$.each(e,function(e,t){validator.isMobile?$(t).blur(function(){validator.validateElement(this,!1,!1,!0)}):$(t).keyup(function(){}).click(function(){$(this).attr("class",validation.inputMouseEnter)}).change(function(){validator.validateElement(this,!1,!1,!0)}).attr("class",validation.inputMouseOut),validator.validateElement(t,!1,!0)})}};$(function(){validator.isMobile||validator.initValiate()}),validator.isMobile&&$.ui.ready(function(){validator.initValiate()});var pageInfo={LockImage:'<%=ResolveUrl("~/WFRes/images/WaitProcess.gif")%>',style:{},displayControls:[],validationButtons:[],lockButtons:[]};