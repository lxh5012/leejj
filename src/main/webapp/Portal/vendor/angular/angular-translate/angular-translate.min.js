angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(t){var e=t.storageKey(),n=t.storage();n?n.get(e)?t.use(n.get(e)):angular.isString(t.preferredLanguage())?t.use(t.preferredLanguage()):n.set(e,t.use()):angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}]),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(t){var e,n,r,a,i,o,s,u,l,c,f,g,h,d,v={},p=[],$=t,m=[],L=!1,y="translate-cloak",S=!1,b=".",w=function(){var t=window.navigator;return(t.language||t.browserLanguage||t.systemLanguage||t.userLanguage||"").split("-").join("_")},I=function(t){for(var e=[],r=angular.lowercase(t),a=0,i=p.length;a<i;a++)e.push(angular.lowercase(p[a]));if(e.indexOf(r)>-1)return t;if(n){var o;for(var s in n){var u=!1,l=n.hasOwnProperty(s)&&angular.lowercase(s)===angular.lowercase(t);if("*"===s.slice(-1)&&(u=s.slice(0,-1)===t.slice(0,s.length-1)),(l||u)&&(o=n[s],e.indexOf(angular.lowercase(o))>-1))return o}}var c=t.split("_");return c.length>1&&e.indexOf(angular.lowercase(c[0]))>-1?c[0]:t},E=function(t,e){if(!t&&!e)return v;if(t&&!e){if(angular.isString(t))return v[t]}else angular.isObject(v[t])||(v[t]={}),angular.extend(v[t],k(e));return this};this.translations=E,this.cloakClassName=function(t){return t?(y=t,this):y};var k=function(t,e,n,r){var a,i,o,s;e||(e=[]),n||(n={});for(a in t)t.hasOwnProperty(a)&&(s=t[a],angular.isObject(s)?k(s,e.concat(a),n,a):(i=e.length?""+e.join(b)+b+a:a,e.length&&a===r&&(o=""+e.join(b),n[o]="@:"+i),n[i]=s));return n};this.addInterpolation=function(t){return m.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return c=t,this},this.useSanitizeValueStrategy=function(t){return L=t,this},this.preferredLanguage=function(t){return t?(e=t,this):e},this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(h=t,this):h},this.translationNotFoundIndicatorRight=function(t){return t?(d=t,this):d},this.fallbackLanguage=function(t){return C(t),this};var C=function(t){return t?(angular.isString(t)?(a=!0,r=[t]):angular.isArray(t)&&(a=!1,r=t),angular.isString(e)&&r.push(e),this):a?r[0]:r};this.use=function(t){if(t){if(!v[t]&&!f)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return i=t,this}return i};var j=function(t){return t?void($=t):u?u+$:$};this.storageKey=j,this.useUrlLoader=function(t){return this.useLoader("$translateUrlLoader",{url:t})},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return f=t,g=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return s=t,this},this.storagePrefix=function(t){return t?(u=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return l=t,this},this.usePostCompiling=function(t){return S=!!t,this},this.determinePreferredLanguage=function(t){var n=t&&angular.isFunction(t)?t():w();return e=p.length?I(n):n,this},this.registerAvailableLanguageKeys=function(t,e){return t?(p=t,e&&(n=e),this):p},this.$get=["$log","$injector","$rootScope","$q",function(t,n,u,p){var b,w,P,O=n.get(c||"$translateDefaultInterpolation"),x=!1,F={},N={},T=function(t,n,a){if(angular.isArray(t)){var o=function(t){for(var e={},r=[],i=function(t){var r=p.defer(),i=function(n){e[t]=n,r.resolve([t,n])};return T(t,n,a).then(i,i),r.promise},o=0,s=t.length;o<s;o++)r.push(i(t[o]));return p.all(r).then(function(){return e})};return o(t)}var u=p.defer();t&&(t=t.trim());var l=function(){var t=e?N[e]:N[i];if(w=0,s&&!t){var n=b.get($);if(t=N[n],r&&r.length){var a=A(r,n);w=a>-1?a+=1:0,r.push(e)}}return t}();return l?l.then(function(){U(t,n,a).then(u.resolve,u.reject)},u.reject):U(t,n,a).then(u.resolve,u.reject),u.promise},A=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},V=function(t){return h&&(t=[h,t].join(" ")),d&&(t=[t,d].join(" ")),t},K=function(t){i=t,u.$emit("$translateChangeSuccess"),s&&b.set(T.storageKey(),i),O.setLocale(i),angular.forEach(F,function(t,e){F[e].setLocale(i)}),u.$emit("$translateChangeEnd")},R=function(t){if(!t)throw"No language key specified for loading.";var e=p.defer();return u.$emit("$translateLoadingStart"),x=!0,n.get(f)(angular.extend(g,{key:t})).then(function(n){var r={};u.$emit("$translateLoadingSuccess"),angular.isArray(n)?angular.forEach(n,function(t){angular.extend(r,k(t))}):angular.extend(r,k(n)),x=!1,e.resolve({key:t,table:r}),u.$emit("$translateLoadingEnd")},function(t){u.$emit("$translateLoadingError"),e.reject(t),u.$emit("$translateLoadingEnd")}),e.promise};if(s&&(b=n.get(s),!b.get||!b.set))throw new Error("Couldn't use storage '"+s+"', missing get() or set() method!");angular.isFunction(O.useSanitizeValueStrategy)&&O.useSanitizeValueStrategy(L),m.length&&angular.forEach(m,function(t){var r=n.get(t);r.setLocale(e||i),angular.isFunction(r.useSanitizeValueStrategy)&&r.useSanitizeValueStrategy(L),F[r.getInterpolationIdentifier()]=r});var M=function(t){var e=p.defer();return v.hasOwnProperty(t)?(e.resolve(v[t]),e.promise):(N[t].then(function(t){E(t.key,t.table),e.resolve(t.table)},e.reject),e.promise)},_=function(t,e,n,r){var a=p.defer();return M(t).then(function(o){o.hasOwnProperty(e)?(r.setLocale(t),a.resolve(r.interpolate(o[e],n)),r.setLocale(i)):a.reject()},a.reject),a.promise},z=function(t,e,n,r){var a,o=v[t];return o.hasOwnProperty(e)&&(r.setLocale(t),a=r.interpolate(o[e],n),r.setLocale(i)),a},H=function(t,e,a,o){var s=p.defer();if(t<r.length){var u=r[t];_(u,e,a,o).then(function(t){s.resolve(t)},function(){var n=H(t+1,e,a,o);s.resolve(n)})}else if(l){var c=n.get(l)(e,i);void 0!==c?s.resolve(c):s.resolve(e)}else s.resolve(e);return s.promise},q=function(t,e,n,a){var i;if(t<r.length){var o=r[t];i=z(o,e,n,a),i||(i=q(t+1,e,n,a))}return i},D=function(t,e,n){return H(P>0?P:w,t,e,n)},G=function(t,e,n){return q(P>0?P:w,t,e,n)},U=function(t,e,a){var o=p.defer(),s=i?v[i]:v,u=a?F[a]:O;if(s&&s.hasOwnProperty(t)){var c=s[t];"@:"===c.substr(0,2)?T(c.substr(2),e,a).then(o.resolve,o.reject):o.resolve(u.interpolate(c,e))}else l&&!x&&n.get(l)(t,i),i&&r&&r.length?D(t,e,u).then(function(t){o.resolve(t)},function(t){o.reject(V(t))}):o.reject(V(t));return o.promise},Y=function(t,e,a){var o,s=i?v[i]:v,u=a?F[a]:O;if(s&&s.hasOwnProperty(t)){var c=s[t];o="@:"===c.substr(0,2)?Y(c.substr(2),e,a):u.interpolate(c,e)}else l&&!x&&n.get(l)(t,i),i&&r&&r.length?(w=0,o=G(t,e,u)):o=V(t);return o};if(T.preferredLanguage=function(){return e},T.cloakClassName=function(){return y},T.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(C(t),f&&r&&r.length)for(var e=0,n=r.length;e<n;e++)N[r[e]]||(N[r[e]]=R(r[e]));T.use(T.use())}return a?r[0]:r},T.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=A(r,t);e>-1&&(P=e)}else P=0},T.proposedLanguage=function(){return o},T.storage=function(){return b},T.use=function(t){if(!t)return i;var e=p.defer();u.$emit("$translateChangeStart");var n=I(t);return n&&(t=n),!v[t]&&f?(o=t,N[t]=R(t).then(function(n){E(n.key,n.table),e.resolve(n.key),o===t&&(K(n.key),o=void 0)},function(t){o=void 0,u.$emit("$translateChangeError"),e.reject(t),u.$emit("$translateChangeEnd")})):(e.resolve(t),K(t)),e.promise},T.storageKey=function(){return j()},T.isPostCompilingEnabled=function(){return S},T.refresh=function(t){function e(){a.resolve(),u.$emit("$translateRefreshEnd")}function n(){a.reject(),u.$emit("$translateRefreshEnd")}if(!f)throw new Error("Couldn't refresh translation table, no loader registered!");var a=p.defer();if(u.$emit("$translateRefreshStart"),t)v[t]?R(t).then(function(n){E(n.key,n.table),t===i&&K(i),e()},n):n();else{var o=[];if(r&&r.length)for(var s=0,l=r.length;s<l;s++)o.push(R(r[s]));i&&o.push(R(i)),p.all(o).then(function(t){angular.forEach(t,function(t){v[t.key]&&delete v[t.key],E(t.key,t.table)}),i&&K(i),e()})}return a.promise},T.instant=function(t,a,o){if(null===t||angular.isUndefined(t))return t;if(angular.isArray(t)){for(var s={},u=0,c=t.length;u<c;u++)s[t[u]]=T.instant(t[u],a,o);return s}if(angular.isString(t)&&t.length<1)return t;t&&(t=t.trim());var f,g=[];e&&g.push(e),i&&g.push(i),r&&r.length&&(g=g.concat(r));for(var h=0,d=g.length;h<d;h++){var p=g[h];if(v[p]&&"undefined"!=typeof v[p][t]&&(f=Y(t,a,o)),"undefined"!=typeof f)break}return f||""===f||(f=t,l&&!x&&n.get(l)(t,i)),f},f&&(angular.equals(v,{})&&T.use(T.use()),r&&r.length))for(var B=0,J=r.length;B<J;B++)N[r[B]]=R(r[B]);return T}]}]),angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(t){var e,n={},r="default",a=null,i={escaped:function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=angular.element("<div></div>").text(t[n]).html());return e}},o=function(t){var e;return e=angular.isFunction(i[a])?i[a](t):t};return n.setLocale=function(t){e=t},n.getInterpolationIdentifier=function(){return r},n.useSanitizeValueStrategy=function(t){return a=t,this},n.interpolate=function(e,n){return a&&(n=o(n)),t(e)(n||{})},n}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(t,e,n,r,a,i){return{restrict:"AE",scope:!0,compile:function(e,o){var s=o.translateValues?o.translateValues:void 0,u=o.translateInterpolation?o.translateInterpolation:void 0,l=e[0].outerHTML.match(/translate-value-+/i);return function(e,c,f){if(e.interpolateParams={},f.$observe("translate",function(t){angular.equals(t,"")||!angular.isDefined(t)?e.translationId=n(c.text().replace(/^\s+|\s+$/g,""))(e.$parent):e.translationId=t}),f.$observe("translateDefault",function(t){e.defaultText=t}),s&&f.$observe("translateValues",function(t){t&&e.$parent.$watch(function(){angular.extend(e.interpolateParams,a(t)(e.$parent))})}),l){var g=function(t){f.$observe(t,function(n){e.interpolateParams[angular.lowercase(t.substr(14,1))+t.substr(15)]=n})};for(var h in f)f.hasOwnProperty(h)&&"translateValue"===h.substr(0,14)&&"translateValues"!==h&&g(h)}var d=function(e,n,a){a||"undefined"==typeof n.defaultText||(e=n.defaultText),c.html(e);var i=t.isPostCompilingEnabled(),s="undefined"!=typeof o.translateCompile,u=s&&"false"!==o.translateCompile;(i&&!s||u)&&r(c.contents())(n)},v=function(){return s||l?function(){var n=function(){e.translationId&&e.interpolateParams&&t(e.translationId,e.interpolateParams,u).then(function(t){d(t,e,!0)},function(t){d(t,e,!1)})};e.$watch("interpolateParams",n,!0),e.$watch("translationId",n)}:function(){var n=e.$watch("translationId",function(r){e.translationId&&r&&t(r,{},u).then(function(t){d(t,e,!0),n()},function(t){d(t,e,!1),n()})},!0)}}(),p=i.$on("$translateChangeSuccess",v);v(),e.$on("$destroy",p)}}}}]),angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(t,e){return{compile:function(n){t.$on("$translateLoadingSuccess",function(){n.removeClass(e.cloakClassName())}),n.addClass(e.cloakClassName())}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(t,e){return function(n,r,a){return angular.isObject(r)||(r=t(r)(this)),e.instant(n,r,a)}}]);